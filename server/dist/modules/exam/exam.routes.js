"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const exam_controller_1 = require("./exam.controller");
const middlewares_1 = require("../../middlewares");
const router = (0, express_1.Router)({ mergeParams: true });
router.post("/:institutionId/exams", middlewares_1.authenticate, middlewares_1.institutionScope, (0, middlewares_1.requireInstitutionRole)("ADMIN", "EXAMINER"), (req, res, next) => exam_controller_1.examController.create(req, res, next));
router.get("/:institutionId/exams", middlewares_1.authenticate, middlewares_1.institutionScope, (req, res, next) => exam_controller_1.examController.getByInstitution(req, res, next));
router.get("/:institutionId/exams/:id", middlewares_1.authenticate, middlewares_1.institutionScope, (req, res, next) => exam_controller_1.examController.getById(req, res, next));
router.patch("/:institutionId/exams/:id/schedule", middlewares_1.authenticate, middlewares_1.institutionScope, (0, middlewares_1.requireInstitutionRole)("ADMIN", "EXAMINER"), (req, res, next) => exam_controller_1.examController.schedule(req, res, next));
router.patch("/:institutionId/exams/:id/reschedule", middlewares_1.authenticate, middlewares_1.institutionScope, (0, middlewares_1.requireInstitutionRole)("ADMIN", "EXAMINER"), (req, res, next) => exam_controller_1.examController.reschedule(req, res, next));
router.patch("/:institutionId/exams/:id/cancel", middlewares_1.authenticate, middlewares_1.institutionScope, (0, middlewares_1.requireInstitutionRole)("ADMIN", "EXAMINER"), (req, res, next) => exam_controller_1.examController.cancel(req, res, next));
router.post("/:institutionId/exams/:id/enroll", middlewares_1.authenticate, middlewares_1.institutionScope, (0, middlewares_1.requireInstitutionRole)("ADMIN", "EXAMINER"), (req, res, next) => exam_controller_1.examController.enrollCandidate(req, res, next));
router.get("/:institutionId/exams/:id/enrollments", middlewares_1.authenticate, middlewares_1.institutionScope, (req, res, next) => exam_controller_1.examController.getEnrollments(req, res, next));
router.get("/:institutionId/exams/:id/retake-questions/:candidateId", middlewares_1.authenticate, middlewares_1.institutionScope, (0, middlewares_1.requireInstitutionRole)("ADMIN", "EXAMINER"), (req, res, next) => exam_controller_1.examController.getRetakeQuestions(req, res, next));
router.put("/:institutionId/exams/:id", middlewares_1.authenticate, middlewares_1.institutionScope, (0, middlewares_1.requireInstitutionRole)("ADMIN", "EXAMINER"), (req, res, next) => exam_controller_1.examController.update(req, res, next));
router.get("/:institutionId/exams/:id/my-enrollment", middlewares_1.authenticate, middlewares_1.institutionScope, (req, res, next) => exam_controller_1.examController.getMyEnrollment(req, res, next));
router.get("/:institutionId/exams/:id/questions", middlewares_1.authenticate, middlewares_1.institutionScope, (req, res, next) => exam_controller_1.examController.getExamQuestions(req, res, next));
router.post("/:institutionId/exams/:id/questions", middlewares_1.authenticate, middlewares_1.institutionScope, (0, middlewares_1.requireInstitutionRole)("ADMIN", "EXAMINER"), (req, res, next) => exam_controller_1.examController.addQuestions(req, res, next));
router.delete("/:institutionId/exams/:id/questions/:examQuestionId", middlewares_1.authenticate, middlewares_1.institutionScope, (0, middlewares_1.requireInstitutionRole)("ADMIN", "EXAMINER"), (req, res, next) => exam_controller_1.examController.removeQuestion(req, res, next));
exports.default = router;
//# sourceMappingURL=exam.routes.js.map